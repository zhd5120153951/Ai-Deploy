import{_ as Q}from"./index.0b1bf1d7.js";import{s as W,C as $,w as z,x as X,y as q,D as G,F as H,I as K}from"./element-plus.ef27c94c.js";import{d as E,e as Y,o as m,c as g,X as t,u,k as S,P as l,U as F,a1 as Z,an as ee,a as s,W as te,a8 as oe,a0 as le,V as ae,R as se,O as I,T as ne,Q as ue,t as re,b7 as de,b6 as ie}from"./@vue.a137a740.js";import{_ as pe}from"./index.796a76b8.js";import{_ as ce}from"./picker.34f033cd.js";import{_ as me}from"./picker.c2491a62.js";import{u as T,f as v,b as _e,d as fe}from"./index.b60a26c4.js";import{b as be,c as xe}from"./decoration.ab9ddaa9.js";import{D as ge}from"./vuedraggable.0ebeab5f.js";import"./@vueuse.07613b64.js";import"./@element-plus.3660753f.js";import"./lodash-es.a31ceab4.js";import"./dayjs.4eb0747d.js";import"./axios.317db7a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.fd318bfa.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.d37c8696.js";import"./index.00854a6a.js";import"./usePaging.c15919e0.js";import"./index.vue_vue_type_script_setup_true_lang.c58ce5d0.js";import"./vue3-video-play.b1eef99b.js";import"./lodash.329a9ebf.js";import"./vue-router.9605b890.js";import"./pinia.9b4180ce.js";import"./css-color-function.32b8b184.js";import"./color.3683ba49.js";import"./clone.a10503d0.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.c50c242d.js";import"./vue-clipboard3.51d666ae.js";import"./clipboard.e9b83688.js";import"./echarts.7e912674.js";import"./zrender.754e8e90.js";import"./tslib.60310f1a.js";import"./highlight.js.7165574c.js";import"./@highlightjs.7fc78ec7.js";import"./vue.de363efb.js";import"./sortablejs.cffe02b4.js";const Fe={class:"color-picker flex flex-1"},Ve=E({__name:"index",props:{modelValue:{type:String},defaultColor:{type:String}},emits:["update:modelValue"],setup(p,{emit:_}){const f=p,e=Y({get(){return f.modelValue},set(b){_("update:modelValue",b)}}),V=["#409EFF","#28C76F","#EA5455","#FF9F43","#01CFE8","#4A5DFF"],C=()=>{e.value=f.defaultColor};return(b,r)=>{const x=W,y=$,a=z;return m(),g("div",Fe,[t(x,{modelValue:u(e),"onUpdate:modelValue":r[0]||(r[0]=o=>S(e)?e.value=o:null),predefine:V},null,8,["modelValue"]),t(y,{modelValue:u(e),"onUpdate:modelValue":r[1]||(r[1]=o=>S(e)?e.value=o:null),class:"mx-[10px] flex-1",type:"text",readonly:""},null,8,["modelValue"]),t(a,{type:"text",onClick:C},{default:l(()=>[F("\u91CD\u7F6E")]),_:1})])}}}),h=p=>(de("data-v-6338a705"),p=p(),ie(),p),Ce={class:"decoration-tabbar min-w-[800px]"},ye={class:"flex h-full items-start"},De={class:"pages-preview mx-[30px]"},ve={class:"tabbar flex"},Ee=["src"],he={class:"leading-3 text-[12px] mt-[4px]"},ke={class:"flex-1"},Ae=h(()=>s("div",{class:"title flex items-center before:w-[3px] before:h-[14px] before:block before:bg-primary before:mr-2"},[F(" \u5E95\u90E8\u5BFC\u822A\u8BBE\u7F6E "),s("span",{class:"form-tips ml-[10px] !mt-0"}," \u81F3\u5C11\u6DFB\u52A02\u4E2A\u5BFC\u822A\uFF0C\u6700\u591A\u6DFB\u52A05\u4E2A\u5BFC\u822A ")],-1)),Be={class:"mb-[18px]"},we={class:"bg-fill-light w-full p-4 mt-4"},Ue={class:"upload-btn w-[60px] h-[60px]"},Se=h(()=>s("span",{class:"text-xs leading-5"}," \u672A\u9009\u4E2D ",-1)),Ie={class:"upload-btn w-[60px] h-[60px]"},Te=h(()=>s("span",{class:"text-xs leading-5"}," \u9009\u4E2D ",-1)),$e=E({name:"decorationTabbar"}),ze=E({...$e,setup(p){T();const _=5,f=2,e=Z({style:{defaultColor:"",selectedColor:""},list:[{name:"",selected:"",unselected:"",link:{}},{name:"",selected:"",unselected:"",link:{}}]}),V=()=>{var a;((a=e.list)==null?void 0:a.length)<_?e.list.push({name:"",selected:"",unselected:"",link:{}}):v.msgError(`\u6700\u591A\u6DFB\u52A0${_}\u4E2A`)},C=a=>{var o;if(((o=e.list)==null?void 0:o.length)<=f)return v.msgError(`\u6700\u5C11\u4FDD\u7559${f}\u4E2A`);e.list.splice(a,1)},b=a=>a.relatedContext.index!=0,r=T(),x=async()=>{const a=await be();e.list=a.list.map(o=>({...o,link:JSON.parse(o.link),selected:o.selected.includes("api/uploads")?r.config.ossDomain+"/"+o.selected:r.config.ossDomain+"/api/uploads"+o.selected,unselected:o.unselected.includes("api/uploads")?r.config.ossDomain+"/"+o.unselected:r.config.ossDomain+"/api/uploads"+o.unselected})),e.style=a.style},y=async()=>{e.list=e.list.map(a=>({...a,link:JSON.stringify(a.link)})),await xe(re(e)),x(),v.msgSuccess("\u4FDD\u5B58\u6210\u529F")};return x(),(a,o)=>{const k=_e,A=me,c=G,N=$,P=ce,O=pe,B=z,w=X,U=Ve,R=q,J=H,j=K,L=Q,M=ee("perms");return m(),g("div",Ce,[t(j,{shadow:"never",class:"!border-none flex-1","body-style":{height:"100%"}},{default:l(()=>[s("div",ye,[s("div",De,[s("div",ve,[(m(!0),g(te,null,oe(u(e).list,(d,n)=>(m(),g("div",{class:"tabbar-item flex flex-col justify-center items-center flex-1",key:n,style:le({color:u(e).style.defaultColor})},[s("img",{class:"w-[22px] h-[22px]",src:d.unselected,alt:""},null,8,Ee),s("div",he,ae(d.name),1)],4))),128))])]),s("div",ke,[Ae,t(J,{"label-width":"70px"},{default:l(()=>[t(R,{"model-value":"content"},{default:l(()=>[t(w,{label:"\u5BFC\u822A\u56FE\u7247",name:"content"},{default:l(()=>{var d;return[s("div",Be,[t(u(ge),{class:"draggable",modelValue:u(e).list,"onUpdate:modelValue":o[0]||(o[0]=n=>u(e).list=n),animation:"300",draggable:".draggable",move:b},{item:l(({element:n,index:D})=>[t(O,{onClose:i=>C(D),class:se(["max-w-[400px]",{draggable:D!=0}])},{default:l(()=>[s("div",we,[t(c,{label:"\u5BFC\u822A\u56FE\u6807"},{default:l(()=>[t(A,{modelValue:n.unselected,"onUpdate:modelValue":i=>n.unselected=i,"upload-class":"bg-body",size:"60px"},{upload:l(()=>[s("div",Ue,[t(k,{name:"el-icon-Plus",size:16}),Se])]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(A,{modelValue:n.selected,"onUpdate:modelValue":i=>n.selected=i,"upload-class":"bg-body",size:"60px"},{upload:l(()=>[s("div",Ie,[t(k,{name:"el-icon-Plus",size:16}),Te])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(c,{label:"\u5BFC\u822A\u540D\u79F0"},{default:l(()=>[t(N,{modelValue:n.name,"onUpdate:modelValue":i=>n.name=i,placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(c,{label:"\u94FE\u63A5\u5730\u5740"},{default:l(()=>[t(P,{modelValue:n.link,"onUpdate:modelValue":i=>n.link=i,disabled:D==0},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)])]),_:2},1032,["onClose","class"])]),_:1},8,["modelValue"])]),((d=u(e).list)==null?void 0:d.length)<_?(m(),I(c,{key:0,"label-width":"0"},{default:l(()=>[t(B,{type:"primary",onClick:V},{default:l(()=>[F(" \u6DFB\u52A0\u5BFC\u822A ")]),_:1})]),_:1})):ne("",!0)]}),_:1}),t(w,{label:"\u6837\u5F0F\u8BBE\u7F6E",name:"styles"},{default:l(()=>[t(c,{label:"\u9ED8\u8BA4\u989C\u8272"},{default:l(()=>[t(U,{class:"max-w-[400px]",modelValue:u(e).style.defaultColor,"onUpdate:modelValue":o[1]||(o[1]=d=>u(e).style.defaultColor=d),"default-color":"#999999"},null,8,["modelValue"])]),_:1}),t(c,{label:"\u9009\u4E2D\u989C\u8272"},{default:l(()=>[t(U,{class:"max-w-[400px]",modelValue:u(e).style.selectedColor,"onUpdate:modelValue":o[2]||(o[2]=d=>u(e).style.selectedColor=d),"default-color":"#4173ff"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1}),ue((m(),I(L,{class:"mt-4",fixed:!1},{default:l(()=>[t(B,{type:"primary",onClick:y},{default:l(()=>[F("\u4FDD\u5B58")]),_:1})]),_:1})),[[M,["decorate:tabbar:save"]]])])}}});const At=fe(ze,[["__scopeId","data-v-6338a705"]]);export{At as default};
